{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  users: [],\n  selectedUser: null,\n  isLoading: false\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUsers(state, action) {\n      state.users = action.payload;\n      state.isLoading = false;\n    },\n    setSelectedUser(state, action) {\n      state.selectedUser = action.payload;\n    },\n    updateUserData(state, action) {\n      const handleSaveData = async () => {\n        const {\n          userId,\n          updatedFields\n        } = action.payload;\n        try {\n          const response = await fetch(`https://legendary-barnacle-9rq6jr9pg7qcx4x4-3001.app.github.dev/api/users/${userId}`, {\n            method: 'PATCH',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(updatedFields)\n          });\n          const data = await response.json();\n          console.log('User data updated:', data);\n\n          // Update the user data in the users array\n          const updatedUsers = state.users.map(user => {\n            if (user.id === userId) {\n              return {\n                ...user,\n                ...updatedFields\n              };\n            }\n            return user;\n          });\n          setUsers(updatedUsers);\n        } catch (error) {\n          console.error('Error updating user data:', error);\n        }\n      };\n      handleSaveData();\n    },\n    setIsLoading(state, action) {\n      state.isLoading = action.payload;\n    }\n  }\n});\nexport const {\n  setUsers,\n  setSelectedUser,\n  updateUserData,\n  setIsLoading\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","users","selectedUser","isLoading","userSlice","name","reducers","setUsers","state","action","payload","setSelectedUser","updateUserData","handleSaveData","userId","updatedFields","response","fetch","method","headers","body","JSON","stringify","data","json","console","log","updatedUsers","map","user","id","error","setIsLoading","actions","reducer"],"sources":["/workspaces/infinite_synergy/frontend/src/redux/reducers/userReducer.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n    users: [],\n    selectedUser: null,\n    isLoading: false,\n};\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState,\n    reducers: {\n        setUsers(state, action) {\n            state.users = action.payload;\n            state.isLoading = false;\n        },\n        setSelectedUser(state, action) {\n            state.selectedUser = action.payload;\n        },\n        updateUserData(state, action) {\n            const handleSaveData = async () => {\n            const { userId, updatedFields } = action.payload;\n                try {\n                  const response = await fetch(`https://legendary-barnacle-9rq6jr9pg7qcx4x4-3001.app.github.dev/api/users/${userId}`, {\n                    method: 'PATCH',\n                    headers: {\n                      'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify(updatedFields),\n                  });\n                  const data = await response.json();\n                  console.log('User data updated:', data);\n                  \n                  // Update the user data in the users array\n                  const updatedUsers = state.users.map(user => {\n                    if (user.id === userId) {\n                      return { ...user, ...updatedFields };\n                    }\n                    return user;\n                  });\n                  setUsers(updatedUsers);\n                } catch (error) {\n                  console.error('Error updating user data:', error);\n                }\n              };  \n              handleSaveData();\n        },\n        setIsLoading(state, action) {\n            state.isLoading = action.payload;\n        }\n    },\n});\n\nexport const { setUsers, setSelectedUser, updateUserData, setIsLoading } = userSlice.actions;\nexport default userSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,EAAE;EACTC,YAAY,EAAE,IAAI;EAClBC,SAAS,EAAE;AACf,CAAC;AAED,MAAMC,SAAS,GAAGL,WAAW,CAAC;EAC1BM,IAAI,EAAE,MAAM;EACZL,YAAY;EACZM,QAAQ,EAAE;IACNC,QAAQA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACpBD,KAAK,CAACP,KAAK,GAAGQ,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACL,SAAS,GAAG,KAAK;IAC3B,CAAC;IACDQ,eAAeA,CAACH,KAAK,EAAEC,MAAM,EAAE;MAC3BD,KAAK,CAACN,YAAY,GAAGO,MAAM,CAACC,OAAO;IACvC,CAAC;IACDE,cAAcA,CAACJ,KAAK,EAAEC,MAAM,EAAE;MAC1B,MAAMI,cAAc,GAAG,MAAAA,CAAA,KAAY;QACnC,MAAM;UAAEC,MAAM;UAAEC;QAAc,CAAC,GAAGN,MAAM,CAACC,OAAO;QAC5C,IAAI;UACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAE,6EAA4EH,MAAO,EAAC,EAAE;YAClHI,MAAM,EAAE,OAAO;YACfC,OAAO,EAAE;cACP,cAAc,EAAE;YAClB,CAAC;YACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,aAAa;UACpC,CAAC,CAAC;UACF,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;UAClCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,IAAI,CAAC;;UAEvC;UACA,MAAMI,YAAY,GAAGnB,KAAK,CAACP,KAAK,CAAC2B,GAAG,CAACC,IAAI,IAAI;YAC3C,IAAIA,IAAI,CAACC,EAAE,KAAKhB,MAAM,EAAE;cACtB,OAAO;gBAAE,GAAGe,IAAI;gBAAE,GAAGd;cAAc,CAAC;YACtC;YACA,OAAOc,IAAI;UACb,CAAC,CAAC;UACFtB,QAAQ,CAACoB,YAAY,CAAC;QACxB,CAAC,CAAC,OAAOI,KAAK,EAAE;UACdN,OAAO,CAACM,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACnD;MACF,CAAC;MACDlB,cAAc,CAAC,CAAC;IACtB,CAAC;IACDmB,YAAYA,CAACxB,KAAK,EAAEC,MAAM,EAAE;MACxBD,KAAK,CAACL,SAAS,GAAGM,MAAM,CAACC,OAAO;IACpC;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,QAAQ;EAAEI,eAAe;EAAEC,cAAc;EAAEoB;AAAa,CAAC,GAAG5B,SAAS,CAAC6B,OAAO;AAC5F,eAAe7B,SAAS,CAAC8B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}